<html>
<head>
	<title>Jack Lovell</title>
	<meta name="description" content="Jack Lovell Art">
	<meta name="robots" content="index, nofollow" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">	
	<link rel="stylesheet" href="style.css">
	<script src="jquery-2.1.0.min.js"></script>
	<!-- <script src="script.js"></script> -->
	<script>
		data = [
			{
				url: "http://lovelljack.com/images/subway_1000.jpg"
				,name: "Subway"
				,title: "Subway"
				,body: "2016, charcoal on paper, 18.4 x 23 inches"
			}
			,{
				url: "http://lovelljack.com/images/torso_900.jpg"
				,name: "Torso"
				,title: "Torso"
				,body: "2016, ink and graphite on paper, 22 x 21 inches"
			}
			,{
				url: "http://lovelljack.com/images/airplane.jpg"
				,name: "Airplane"
				,title: "Airplane"
				,body: "graphite on paper"
			}
			,{
				url: "http://lovelljack.com/images/Bent_Shape_1000.jpg"
				,name: "Bent Shape"
				,title: "Bent Shape"
				,body: "2008, charcoal on paper, 28.3 x 22.1 inches"
			}
			,{
				url: "http://lovelljack.com/images/Flowers_1500.jpg"
				,name: "Flowers"
				,title: "Flowers"
				,body: "2017, colored pencil on paper, 21.1 x 19.4 inches"
			}
			,{
				url: "http://lovelljack.com/images/johnny_pappas.jpg"
				,name: "Johnny Pappas"
				,title: "Johnny Pappas"
				,body: "charcoal on paper"
			}
			,{
				url: "http://lovelljack.com/images/Parabola_1000.jpg"
				,name: "Heads"
				,title: "Heads"
				,body: "2008, charcoal on paper, 24.8 x 40 inches"
			}
			,{
				url: "http://lovelljack.com/images/nara.jpg"
				,name: "Nara"
				,title: "Nara"
				,body: "2008, graphite on paper"
			}
			,{
				url: "http://lovelljack.com/images/_MG_7770-1.jpg"
				,name: "Disney"
				,title: "Disney"
				,body: "2019, graphite on paper, 20.3 x 15.6 inches"
			}
			,{
				url: "http://lovelljack.com/images/_MG_7841-1_1500_90q.jpg"
				,name: "Kiss"
				,title: "Kiss"
				,body: "2019, Inkjet transfer, colored pencil, highlighter and pastel on paper, 28.5 x 21.4 inches"
			}
		];



		display_original = [
			{
				name: "Kiss"
				,title: "Kiss"
				,body: "2019, Inkjet transfer, colored pencil, highlighter and pastel on paper, 28.5 x 21.4 inches"
				,url: "http://lovelljack.com/images/_MG_7841-1_1500_90q.jpg"
			}
			,{
				name: "Flowers"
				,title: "Flowers"
				,body: "2017, colored pencil on paper, 21.1 x 19.4 inches"
				,url: "http://lovelljack.com/images/Flowers_1500.jpg"
			}
			,{
				name: "Torso"
				,title: "Torso"
				,body: "2016, ink and graphite on paper, 22 x 21 inches"
				,url: "http://lovelljack.com/images/torso_900.jpg"
			}
			,{
				name: "Subway"
				,title: "Subway"
				,body: "2016, charcoal on paper, 18.4 x 23 inches"
				,url: "http://lovelljack.com/images/subway_1000.jpg"
			}
			,{
				name: "Bent Shape"
				,title: "Bent Shape"
				,body: "2008, charcoal on paper, 28.3 x 22.1 inches"
				,url: "http://lovelljack.com/images/Bent_Shape_1000.jpg"
			}
			,{
				name: "Parabola"
				,title: "Parabola"
				,body: "2008, charcoal on paper, 24.8 x 40 inches"
				,url: "http://lovelljack.com/images/Parabola_1000.jpg"
			}
			,{
				name: "Stock Photo"
				,title: "Stock Photo"
				,body: "20016, graphite on paper, 30 x 23 inches"
				,url: "http://lovelljack.com/images/handshake_1000.jpg"
			}
		];



		var col_count;
		var col_count_old;
		var display;



		$(document).ready(function(){







			// reorder for initial col count
			function setinitialview(){
				col_count = Number($("#images").css("column-count"));
				display = reorder(display_original, col_count);
				col_count_old = col_count;
				populateimages(display);
			}
			setinitialview();



			// reorder when column count changes
			// adapted from: http://thenewcode.com/948/Triggering-JavaScript-Actions-With-CSS-Media-Queries
			function checkForViewportChange(){
				col_count = Number($("#images").css("column-count"));
				if (col_count != col_count_old){
					display = reorder(display_original, col_count);
					col_count_old = col_count;
					$("#images").empty();
					populateimages(display);
				}
			}
			$(window).resize(function(){
			  checkForViewportChange();
			});



			// populate images
			function populateimages(arr){
				arr.forEach(function(e){
					var img = $(document.createElement("img"))
					.attr("src", e.url)
					.attr("data-name", e.name);
					$("#images").append(img);
					addclickhandlers();
				});
			}




			// reorder for left-to-right
			// adapted from: https://hackernoon.com/masonry-layout-technique-react-demo-of-100-css-control-of-the-view-e4190fa4296
			function reorder(arr, columns){
				var cols = columns;
				var out = [];
				var col = 0;
				while(col < cols){
					for(i=0;i<arr.length;i+=cols){
						var val = arr[i+col];
						if(val !== undefined)
							out.push(val);
					}
					col++;
				}
				return out;
			}



			// click handlers
			function addclickhandlers(){
				$("#images img").click(function(){
					blowup($(this).attr("data-name"), display);
				});
				$(".blowup").click(function(){
					$(".blowup").css("display", "none");
				});				
			}




		});


		function blowup(name, arr){
			indexes = $.map(arr, function(obj, index) {
			    if(obj.name === name) {
			        return index;
			    }
			})
			item = arr[indexes[0]];
			$(".blowup img").attr("src", item.url);
			$(".blowup figcaption .title").text(item.title);
			$(".blowup figcaption .body").text(item.body);
			$(".blowup").css("display", "flex");
		}


	</script>
</head>
<body>


	<div class="name">Jack Lovell</div>


	<div id="images">
	</div>


	<div class="blowup">
		<figure>
			<img src="">
			<figcaption>
				<span class="title"></span>,&nbsp
				<span class="body"></span>
			</figcaption>
		</figure>
	</div>


</body>
</html>